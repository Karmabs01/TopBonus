{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/fortune/index.jsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport useSWR from \"swr\";\r\nimport { getBrands } from \"@/components/getBrands/getBrands2\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { useLanguage } from \"@/components/switcher/LanguageContext\";\r\nimport Loader from \"../Loader\";\r\n\r\nconst Fortunes = ({ banner, target, creative }) => {\r\n  const [brands, setBrands] = useState([]);\r\n  const [visibleBrands, setVisibleBrands] = useState(5);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { language } = useLanguage();\r\n  const categoryBrands = { key1: \"FirstPriority\", key2: \"1\" };\r\n\r\n  const { data, error } = useSWR(\r\n    [\"brands\", language],\r\n    () => getBrands(language),\r\n    { initialData: brands }\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      const filteredData = data.filter(\r\n        (rowData) => rowData[categoryBrands.key1] === categoryBrands.key2\r\n      );\r\n      console.log(\"FILTER\", filteredData);\r\n      setBrands(filteredData);\r\n    }\r\n  }, [data, categoryBrands.key1, categoryBrands.key2]);\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const [newUrl, setNewUrl] = useState(\"\");\r\n  useEffect(() => {\r\n    const savedUrl = localStorage.getItem(\"savedUrl\");\r\n    if (savedUrl) {\r\n      setNewUrl(savedUrl);\r\n    }\r\n  }, []);\r\n\r\n  const loadMoreBrands = () => {\r\n    setVisibleBrands((prev) => prev + 5);\r\n  };\r\n\r\n  const hasMoreBrands = brands.length > visibleBrands;\r\n\r\n  console.log(\"aaaaaa\", brands);\r\n\r\n  return (\r\n    <div className=\"flex flex-col container-fortune\">\r\n      <div id=\"banner-wheel\" className=\"banner-wheel\">\r\n        <h3>{t(\"FORTUNE WHEEL BRANDS\")}</h3>\r\n        <p>{t(\"Pick a brand below, make first deposit and win real cash\")}</p>\r\n        {banner && (\r\n          <Link\r\n            target=\"_blank\"\r\n            className=\"btn btn-thirdy target-spin-the-roulette\"\r\n            href={`/fortune`}\r\n          >\r\n            {t(\"Spin the Roulette\")}\r\n          </Link>\r\n        )}\r\n      </div>\r\n      <p className=\"text-center mt-3\">\r\n        {t(\r\n          \"To qualify for withdrawals, ensure your first deposit is at least €25 or the equivalent in other currencies and was made after requesting a withdrawal.\"\r\n        )}\r\n      </p>\r\n      <div className=\"flex flex-wrap px-0 py-6\">\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          brands.slice(0, visibleBrands).map((brand) => (\r\n            <div key={brand.id_brand} className=\"card-brand mb-3 basis-[19%]\">\r\n              <div className=\"brandImage p-3\">\r\n                <Link\r\n                  target=\"_blank\"\r\n                  className={target}\r\n                  href={`${brand.GoBig}/${newUrl}&creative_id=${target}`}\r\n                >\r\n                  <Image\r\n                    src={`/brands/${brand.CasinoBrand}.png`}\r\n                    alt={brand.CasinoBrand}\r\n                    width={150}\r\n                    height={75}\r\n                    className={target}\r\n                  />\r\n                </Link>\r\n              </div>\r\n              <div className=\"brandContent p-3\">\r\n                <div className=\"review-bonus\">{brand.OurOfferContent}</div>\r\n                <div className=\"buttons\">\r\n                  <Link\r\n                    target=\"_blank\"\r\n                    className={`btn btn-primary ${target}`}\r\n                    href={`${brand.GoBig}/${newUrl}&creative_id=${target}`}\r\n                  >\r\n                    {t(\"Play Now\")}\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n      {hasMoreBrands && (\r\n        <button\r\n          className=\"btn-primary btn-more text-lg max-w-sm p-3 ml-auto mr-auto mt-4 font-semibold text-white flex justify-center items-center\"\r\n          onClick={loadMoreBrands}\r\n        >\r\n          {t(\"Load More Brands\")}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Fortunes;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/fortune/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Fortunes from \"@/components/fortune\";\r\nimport { getUserData } from \"@/components/getUser/getUser\";\r\nimport { useTranslation } from \"react-i18next\";\r\ninterface UserData {\r\n  winbalance?: string; // \"?\" указывает, что свойство необязательное\r\n  // Добавьте другие свойства здесь по необходимости\r\n}\r\n\r\nexport default function Fortune() {\r\n  const [iframeWidth, setIframeWidth] = useState(\"1170px\");\r\n  const [iframeHeight, setIframeHeight] = useState(\"658px\");\r\n  const [userData, setUserData] = useState(null);\r\n  const { t } = useTranslation();\r\n  const banner = false;\r\n\r\n  // const [usId, setUsId] = useState();\r\n  // console.log(\"USID\", usId);\r\n\r\n  // Обновление размеров iframe при изменении размеров окна\r\n  useEffect(() => {\r\n    // Получение ID пользователя\r\n    // if (typeof window !== \"undefined\") {\r\n    //   const userId = localStorage.getItem(\"user_id\");\r\n    //   setUsId(userId);\r\n    // }\r\n    const updateIframeSize = () => {\r\n      const screenWidth = window.innerWidth;\r\n      setIframeWidth(screenWidth <= 767 ? \"100%\" : \"1170px\");\r\n      setIframeHeight(screenWidth <= 767 ? \"100%\" : \"658px\");\r\n    };\r\n\r\n    window.addEventListener(\"resize\", updateIframeSize);\r\n    updateIframeSize();\r\n\r\n    return () => window.removeEventListener(\"resize\", updateIframeSize);\r\n  }, []);\r\n\r\n  // Функция для обнуления времени в объекте даты\r\n  // const startOfDay = (date: Date) => {\r\n  //   date.setHours(0, 0, 0, 0);\r\n  //   return date;\r\n  // };\r\n\r\n  // Функция для обновления данных пользователя, если необходимо\r\n  // const updateUserDataIfNeeded = async (data: UserData) => {\r\n  //   if (!data) return;\r\n\r\n  //   const oldDate = data.winbalance ? new Date(data.winbalance) : new Date(0);\r\n  //   startOfDay(oldDate);\r\n  //   const newDate = new Date();\r\n  //   startOfDay(newDate);\r\n\r\n  //   if (newDate.getTime() - oldDate.getTime() >= 86400000) {\r\n  //     const formattedNewDate = newDate.toISOString();\r\n\r\n  //     try {\r\n  //       const body = JSON.stringify({\r\n  //         id: usId,\r\n  //         winbalance: formattedNewDate,\r\n  //       });\r\n  //       const response = await fetch(\r\n  //         \"https://pickbonus.myawardwallet.com/api/user/update_time.php\",\r\n  //         {\r\n  //           method: \"PUT\",\r\n  //           headers: { \"Content-Type\": \"application/json\" },\r\n  //           body,\r\n  //         }\r\n  //       );\r\n\r\n  //       if (!response.ok) throw new Error(`Error: ${response.status}`);\r\n  //       console.log(\"Данные успешно обновлены\");\r\n  //       await fetchData(); // Перезагружаем данные пользователя\r\n  //     } catch (error) {\r\n  //       console.error(\"Ошибка при обновлении данных пользователя:\", error);\r\n  //     }\r\n  //   } else {\r\n  //     console.log(\"Обновление не требуется.\");\r\n  //   }\r\n  // };\r\n\r\n  // // Функция для получения данных пользователя\r\n  // const fetchData = async () => {\r\n  //   if (!usId) return;\r\n  //   try {\r\n  //     const data = await getUserData(usId);\r\n  //     setUserData(data);\r\n  //     console.log(\"DATA\", data)\r\n  //   } catch (error) {\r\n  //     console.error(\"Ошибка при получении данных пользователя:\", error);\r\n  //   }\r\n  // };\r\n\r\n  // addEventListener(\"message\", (event) => {\r\n  //   console.log(\"EVENT\", event);\r\n  // fetchData(userId);\r\n  // updateUserDataIfNeeded(userData);\r\n  // });\r\n\r\n  // const [messageData, setMessageData] = useState(null);\r\n  // useEffect(() => {\r\n  //   const handleMessage = (event) => {\r\n  //     if (event.origin !== window.location.origin) {\r\n  //       console.error(\"unauthorized origin\", event.origin);\r\n  //       return;\r\n  //     }\r\n  //     let dataString =\r\n  //       typeof event.data === \"string\"\r\n  //         ? event.data\r\n  //         : JSON.stringify(event.data);\r\n\r\n  //     if (dataString.includes(\"Json:\")) {\r\n  //       setMessageData(dataString);\r\n\r\n  //       fetchData();\r\n  //       if (userData) {\r\n  //         updateUserDataIfNeeded(userData);\r\n  //         // return;\r\n  //       }\r\n  //     }\r\n  //     console.log(\"Received data\", dataString);\r\n  //   };\r\n\r\n  //   window.addEventListener(\"message\", handleMessage);\r\n  //   return () => window.removeEventListener(\"message\", handleMessage);\r\n  // }, [messageData]);\r\n\r\n  const target = \"target-fw-brands-wheel-page\";\r\n  const creative = \"FW_Brands_Wheel_Page\";\r\n  return (\r\n    <div className=\"page-fortune main__container\">\r\n      {/* <button onClick={() => updateUserDataIfNeeded(userData)}>On</button> */}\r\n      <div className=\"pt-10 pb-10\">\r\n        <iframe\r\n          id=\"myIframe\"\r\n          src=\"/wheelNew2/index.html\"\r\n          width={iframeWidth}\r\n          height={iframeHeight}\r\n        />\r\n      </div>\r\n\r\n      <Fortunes banner={banner} target={target} creative={creative} />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;AAUe,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,gKAAA,CAAA,iBAAc,AAAD;IAC3B,MAAM,SAAS;IAEf,sCAAsC;IACtC,6BAA6B;IAE7B,yDAAyD;IACzD,CAAA,GAAA,+MAAA,CAAA,YAAS,AAAD,EAAE;QACR,4BAA4B;QAC5B,uCAAuC;QACvC,oDAAoD;QACpD,qBAAqB;QACrB,IAAI;QACJ,MAAM,mBAAmB;YACvB,MAAM,cAAc,OAAO,UAAU;YACrC,eAAe,eAAe,MAAM,SAAS;YAC7C,gBAAgB,eAAe,MAAM,SAAS;QAChD;QAEA,OAAO,gBAAgB,CAAC,UAAU;QAClC;QAEA,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,+CAA+C;IAC/C,uCAAuC;IACvC,+BAA+B;IAC/B,iBAAiB;IACjB,KAAK;IAEL,8DAA8D;IAC9D,6DAA6D;IAC7D,uBAAuB;IAEvB,+EAA+E;IAC/E,yBAAyB;IACzB,gCAAgC;IAChC,yBAAyB;IAEzB,6DAA6D;IAC7D,sDAAsD;IAEtD,YAAY;IACZ,sCAAsC;IACtC,oBAAoB;IACpB,wCAAwC;IACxC,YAAY;IACZ,sCAAsC;IACtC,0EAA0E;IAC1E,YAAY;IACZ,2BAA2B;IAC3B,6DAA6D;IAC7D,kBAAkB;IAClB,YAAY;IACZ,WAAW;IAEX,wEAAwE;IACxE,iDAAiD;IACjD,gEAAgE;IAChE,wBAAwB;IACxB,4EAA4E;IAC5E,QAAQ;IACR,aAAa;IACb,+CAA+C;IAC/C,MAAM;IACN,KAAK;IAEL,+CAA+C;IAC/C,kCAAkC;IAClC,uBAAuB;IACvB,UAAU;IACV,4CAA4C;IAC5C,yBAAyB;IACzB,gCAAgC;IAChC,sBAAsB;IACtB,yEAAyE;IACzE,MAAM;IACN,KAAK;IAEL,2CAA2C;IAC3C,iCAAiC;IACjC,qBAAqB;IACrB,oCAAoC;IACpC,MAAM;IAEN,wDAAwD;IACxD,oBAAoB;IACpB,uCAAuC;IACvC,qDAAqD;IACrD,4DAA4D;IAC5D,gBAAgB;IAChB,QAAQ;IACR,uBAAuB;IACvB,uCAAuC;IACvC,uBAAuB;IACvB,wCAAwC;IAExC,0CAA0C;IAC1C,oCAAoC;IAEpC,qBAAqB;IACrB,wBAAwB;IACxB,4CAA4C;IAC5C,qBAAqB;IACrB,UAAU;IACV,QAAQ;IACR,gDAAgD;IAChD,OAAO;IAEP,uDAAuD;IACvD,uEAAuE;IACvE,qBAAqB;IAErB,MAAM,SAAS;IACf,MAAM,WAAW;IACjB,qBACE,wPAAC;QAAI,WAAU;;0BAEb,wPAAC;gBAAI,WAAU;0BACb,cAAA,wPAAC;oBACC,IAAG;oBACH,KAAI;oBACJ,OAAO;oBACP,QAAQ;;;;;;;;;;;0BAIZ,wPAAC,+HAAA,CAAA,UAAQ;gBAAC,QAAQ;gBAAQ,QAAQ;gBAAQ,UAAU;;;;;;;;;;;;AAG1D"}},
    {"offset": {"line": 370, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}